{"version":3,"sources":["store/videoInfoAtoms.js","containers/home/index.jsx","utils/youtubeLinkUtil.js","presentational/image-host/index.jsx","assets/funnygif.gif","containers/image-container/index.jsx","presentational/youtube-video-player/index.jsx","containers/video-player-container/index.jsx","App.js","reportWebVitals.js","index.js"],"names":["videoLinkState","atom","key","default","videoStartTimeState","Home","useRecoilState","setVideoLink","setVideoStartTime","useState","videoLinkText","setVideoLinkText","isValidForm","setIsValidForm","history","useHistory","className","onChange","event","target","value","placeholder","onClick","urlToParse","match","isValidYoutubeUrl","push","style","visibility","class","ImageHost","src","alt","ImageContainer","imageSrc","sampleGif","to","YouTubeVideoPlayer","React","forwardRef","props","ref","videoLink","startTime","youTubePlayer","console","log","opts","playerVars","autoplay","start","Math","ceil","useImperativeHandle","getCurrentTime","videoId","videoUrl","URL","URLSearchParams","search","get","err","error","getVideoIdFromLink","onReady","playVideo","VideoPlayerContainer","useRecoilValue","videoStartTime","setvideoStartTime","youTubePlayerRef","useRef","useLayoutEffect","currentYoutTubePlayer","current","currentTime","App","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b3c125a3.chunk.js","sourcesContent":["import { atom } from \"recoil\";\nexport const videoLinkState = atom({\n    key: 'videoLinkState', // unique ID (with respect to other atoms/selectors)\n    default: '', // default value (aka initial value)\n});\n\nexport const videoStartTimeState = atom({\n    key: 'videoStartTimeState', // unique ID (with respect to other atoms/selectors)\n    default: null, // default value (aka initial value)\n});","import React, { useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { useRecoilState } from 'recoil';\nimport { videoLinkState, videoStartTimeState } from '../../store/videoInfoAtoms';\nimport { isValidYoutubeUrl } from '../../utils/youtubeLinkUtil';\n\nexport const Home = () => {\n    const [, setVideoLink] = useRecoilState(videoLinkState);  \n    const [, setVideoStartTime] = useRecoilState(videoStartTimeState);       \n    const [videoLinkText, setVideoLinkText] = useState('');   \n    const [isValidForm, setIsValidForm] = useState(true);   \n    const history = useHistory() ;  \n    const handleInputChange = (event) => {\n        const val = event.target.value;\n        if(!val)\n            setIsValidForm(true);\n        setVideoLinkText(event.target.value);\n        \n    }\n    const handleVideoLinkSave = (event) => {\n        setVideoStartTime(null);\n        const isValidLink = isValidYoutubeUrl(videoLinkText);\n        if(!isValidLink) {\n            setIsValidForm(false);\n            return;\n        }\n        setIsValidForm(true);\n        setVideoLink(videoLinkText);       \n        history.push(\"/video\");\n    }\n    \n    return (\n        <div className=\"flex flex-col content-center justify-center w-full\">\n            <div className=\"flex content-center justify-center w-full\">\n                <input onChange={handleInputChange} value={videoLinkText} placeholder=\"Type / Paste YouTube Video link\"\n                    className=\"w-2/3 shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"/>\n                <button \n                    onClick={handleVideoLinkSave}\n                    className=\"border-2 hover:bg-red-500 hover:text-white border-red-500 px-4 py-2 ml-2 rounded\">\n                Play</button>             \n             </div> \n             <div className=\"flex content-center justify-center w-full py-2 px-3\" style={{visibility: isValidForm ? 'hidden' : 'visible' }}>\n                <span class=\"text-xs text-red-700\">Invalid YouTube video url</span>    \n             </div>\n        </div>\n       \n    )\n}","export const getVideoIdFromLink = (videoLink) => {\n    try {\n        if(!videoLink)\n            return '';\n        const videoUrl = new URL(videoLink);\n        const videoId = new URLSearchParams(videoUrl.search).get(\"v\");\n        return videoId;\n    } catch(err) {\n        console.error(err);\n        return '';\n    }\n} \n\nexport const isValidYoutubeUrl = (urlToParse) => {\n    if (urlToParse) {\n        var regExp = /^(?:https?:\\/\\/)?(?:m\\.|www\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))((\\w|-){11})(?:\\S+)?$/;\n        if (urlToParse.match(regExp)) {\n            return true;\n        }\n    }\n    return false;\n}","import React from 'react';\n\nexport const ImageHost = ({src}) => {\n    return (\n        <div className=\"shadow border-2 border-red-300\">\n            <img src={src} alt=\"funny gif\" />\n        </div>\n    )\n}","export default __webpack_public_path__ + \"static/media/funnygif.028ee920.gif\";","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { ImageHost } from '../../presentational/image-host';\nimport sampleGif from '../../assets/funnygif.gif';\n\nexport const ImageContainer = () => {      \n    const imageSrc = sampleGif;\n    return(\n        <div className=\"flex flex-col items-center justify-center w-full\">\n            <nav className=\"flex\">\n                <Link to=\"/video\"\n                    className=\"h-6 px-5 m-2 text-blue-100 transition-colors duration-150 bg-blue-600 focus:shadow-outline hover:bg-blue-700\">\n                    Video\n                </Link>               \n            </nav>\n            <ImageHost src={imageSrc}/>            \n        </div>\n    )\n}","import React, { useImperativeHandle } from 'react';\nimport YouTube from 'react-youtube';\nimport { getVideoIdFromLink } from '../../utils/youtubeLinkUtil';\nexport const YouTubeVideoPlayer = React.forwardRef((props, ref) => {\n    const {videoLink, startTime} = props;\n    let youTubePlayer = null;\n    console.log('start time', startTime);\n    const opts = {\n        playerVars: {\n            autoplay: 1,\n            start: Math.ceil(startTime) ?? 0\n        }\n    }\n    const handleOnVideoReady = (event) => {\n        youTubePlayer = event.target;       \n        event.target.playVideo();\n    }\n    useImperativeHandle(ref, () => ({\n        getCurrentTime: () => {            \n            return  youTubePlayer?.getCurrentTime();\n        }\n    }));\n    \n    const videoId = getVideoIdFromLink(videoLink);   \n    return(\n        <div className=\"shadow border-2 border-red-300\">\n            <YouTube videoId={videoId} opts={opts}  onReady={handleOnVideoReady}/>\n        </div>\n        \n    )\n});","import React, { useLayoutEffect, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useRecoilValue, useRecoilState } from 'recoil';\nimport { YouTubeVideoPlayer } from '../../presentational/youtube-video-player';\nimport { videoLinkState, videoStartTimeState } from '../../store/videoInfoAtoms';\n\nexport const VideoPlayerContainer = () => {   \n    const videoLink = useRecoilValue(videoLinkState);\n    const videoStartTime = useRecoilValue(videoStartTimeState);\n    const [, setvideoStartTime] = useRecoilState(videoStartTimeState);       \n    const youTubePlayerRef = useRef();\n    useLayoutEffect(() => {\n        const currentYoutTubePlayer = youTubePlayerRef.current;\n        return () => {                      \n            const currentTime = currentYoutTubePlayer?.getCurrentTime();\n            if(currentTime) {\n                setvideoStartTime(currentTime);\n            }\n        }\n    });\n    \n    return(\n        <div className=\"flex flex-col content-center items-center justify-center w-full\">\n            <nav className=\"flex\">\n                <Link to=\"/home\"\n                    className=\"h-6 px-5 m-2 text-blue-100 transition-colors duration-150 bg-blue-600 focus:shadow-outline hover:bg-blue-700\">\n                    Home\n                </Link>\n                <Link to=\"/image\"\n                    className=\"h-6 px-5 m-2 text-blue-100 transition-colors duration-150 bg-blue-600 focus:shadow-outline hover:bg-blue-700\">\n                GIF</Link>\n            </nav>\n            <YouTubeVideoPlayer ref={youTubePlayerRef} videoLink={videoLink} startTime={videoStartTime}/>            \n        </div>\n    )\n}","import {\n  HashRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\nimport {\n  RecoilRoot, \n} from 'recoil';\nimport { Home } from \"./containers/home\";\nimport { ImageContainer } from \"./containers/image-container\";\nimport { VideoPlayerContainer } from \"./containers/video-player-container\";\n\nfunction App() {\n  return (\n    <div className=\"flex flex-col h-full font-mono\">\n      <div className=\"flex w-full justify-center bg-blue-500 h-12 items-center \">\n        <span className=\"text-lg text-white\">YouTube Video Player</span>\n      </div>      \n      <RecoilRoot>\n        <Router>\n          <div className=\"flex items-center h-full w-full bg-gradient-to-b bg-gray-100\">     \n            <Switch>             \n                <Route path=\"/video\">\n                  <VideoPlayerContainer />\n                </Route>\n                <Route path=\"/image\">      \n                  <ImageContainer />        \n                </Route>\n                <Route path={[\"/\",\"/home\"]}>\n                  <Home />\n                </Route>\n            </Switch>\n          </div>\n        </Router>\n      </RecoilRoot>\n    </div>  \n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}